# YD_WebServer
**YD_WebServer是基于于Linux平台,一个基于事件驱动的HTTP服务器,采用C++14编写,支持HTTP/1.1的GET,POST请求,同时支持动态网页请求.**


---------------------------

## 架构思路


## 技术点

 1. 基于`reactor`模型
 2. 使用ET非阻塞套接字,尽可能的减少由内核态向用户态的事件通知和减少线程阻塞时间
 3. 实现了采用`Timerfd`支持以事件驱动的多轮盘`Timewheel`
 4. 基于以细粒度锁实现的线程安全hashmap的异步日志库
 5. 实现用户态的`InputBuffer`与`Ouputbuffer`,以保证服务器的高可用性
 6. 解决`busy_loop`问题
 7. 解决TCP窗口大小不足导致write/send失败
 8. 支持不活跃用户自动关闭连接
 9. 为保证高性能在发送文件时使用`零拷贝`
 10. 利用析构函数,智能指针等手段实现`RAII`机制,无内存泄露
 11. 实现`Fastcgi`协议与后台运行的php-fpm进行通信
 12. 使用非阻塞connect实现简单客户端,支持`用户态重连`


需要注意的点

 1. 哈希map源码
 2. busy_loop
 3. TCP窗口
 4. reactor的理解还不够

1. 在HTTP返回中加上Content-Language:en-US 或者 zh-CN
2. 返回中加上Allow字段
3. 加上Content-Encoding
4. Content-Location
5. 貌似host功能指定的有问题

[ab的用法](https://www.howtoing.com/how-to-use-apachebench-to-do-load-testing-on-an-arch-linux-vps)